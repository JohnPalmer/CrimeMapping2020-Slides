<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 9 Buffers and Distances | Crime Mapping and Spatial Analysis</title>
  <meta name="description" content="Companion guide for the Crime Mapping and Spatial Analysis labs." />
  <meta name="generator" content="bookdown 0.17.2 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 9 Buffers and Distances | Crime Mapping and Spatial Analysis" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://johnpalmer.github.io/CrimeMapping2020-Slides/labs/" />
  <meta property="og:image" content="https://johnpalmer.github.io/CrimeMapping2020-Slides/labs/images/lab_manual_cover.png" />
  <meta property="og:description" content="Companion guide for the Crime Mapping and Spatial Analysis labs." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 9 Buffers and Distances | Crime Mapping and Spatial Analysis" />
  
  <meta name="twitter:description" content="Companion guide for the Crime Mapping and Spatial Analysis labs." />
  <meta name="twitter:image" content="https://johnpalmer.github.io/CrimeMapping2020-Slides/labs/images/lab_manual_cover.png" />

<meta name="author" content="John Palmer" />


<meta name="date" content="2020-03-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="getting-started-with-stata.html"/>
<link rel="next" href="clustering.html"/>
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />












<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Crime Mapping and Spatial Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Cover</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#accessing-qgis"><i class="fa fa-check"></i>Accessing QGIS</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#accessing-stata"><i class="fa fa-check"></i>Accessing Stata</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#accessing-r"><i class="fa fa-check"></i>Accessing R</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lab-instructions.html"><a href="lab-instructions.html"><i class="fa fa-check"></i>Lab Instructions</a><ul>
<li class="chapter" data-level="" data-path="lab-instructions.html"><a href="lab-instructions.html#lab-1-9-january-2020"><i class="fa fa-check"></i>Lab 1: 9 January 2020</a></li>
<li class="chapter" data-level="" data-path="lab-instructions.html"><a href="lab-instructions.html#lab-2-23-january-2020"><i class="fa fa-check"></i>Lab 2: 23 January 2020</a></li>
<li class="chapter" data-level="" data-path="lab-instructions.html"><a href="lab-instructions.html#lab-3-5-february-2020"><i class="fa fa-check"></i>Lab 3: 5 February 2020</a></li>
<li class="chapter" data-level="" data-path="lab-instructions.html"><a href="lab-instructions.html#lab-4-20-february-2020"><i class="fa fa-check"></i>Lab 4: 20 February 2020</a></li>
<li class="chapter" data-level="" data-path="lab-instructions.html"><a href="lab-instructions.html#lab-5-5-march-2020"><i class="fa fa-check"></i>Lab 5: 5 March 2020</a></li>
</ul></li>
<li class="part"><span><b>I Crime Mapping</b></span></li>
<li class="chapter" data-level="1" data-path="getting-started-with-qgis.html"><a href="getting-started-with-qgis.html"><i class="fa fa-check"></i><b>1</b> Getting Started with QGIS</a><ul>
<li class="chapter" data-level="1.1" data-path="getting-started-with-qgis.html"><a href="getting-started-with-qgis.html#beginning-a-new-project"><i class="fa fa-check"></i><b>1.1</b> Beginning a new project</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started-with-qgis.html"><a href="getting-started-with-qgis.html#changing-the-language"><i class="fa fa-check"></i><b>1.2</b> Changing the language</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started-with-qgis.html"><a href="getting-started-with-qgis.html#installing-plugins"><i class="fa fa-check"></i><b>1.3</b> Installing plugins</a></li>
<li class="chapter" data-level="1.4" data-path="getting-started-with-qgis.html"><a href="getting-started-with-qgis.html#osm-tiles"><i class="fa fa-check"></i><b>1.4</b> Adding OpenStreetMap tiles</a></li>
<li class="chapter" data-level="1.5" data-path="getting-started-with-qgis.html"><a href="getting-started-with-qgis.html#placing-points-on-the-map"><i class="fa fa-check"></i><b>1.5</b> Placing points on the map</a></li>
<li class="chapter" data-level="1.6" data-path="getting-started-with-qgis.html"><a href="getting-started-with-qgis.html#placing-polygons-on-the-map"><i class="fa fa-check"></i><b>1.6</b> Placing polygons on the map</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="mapping-basics.html"><a href="mapping-basics.html"><i class="fa fa-check"></i><b>2</b> Mapping Basics</a><ul>
<li class="chapter" data-level="2.1" data-path="mapping-basics.html"><a href="mapping-basics.html#mapping-crime-locations"><i class="fa fa-check"></i><b>2.1</b> Mapping crime locations</a><ul>
<li class="chapter" data-level="2.1.1" data-path="mapping-basics.html"><a href="mapping-basics.html#downloading-data"><i class="fa fa-check"></i><b>2.1.1</b> Downloading Data</a></li>
<li class="chapter" data-level="2.1.2" data-path="mapping-basics.html"><a href="mapping-basics.html#adding-data-to-your-map"><i class="fa fa-check"></i><b>2.1.2</b> Adding data to your map</a></li>
<li class="chapter" data-level="2.1.3" data-path="mapping-basics.html"><a href="mapping-basics.html#adding-data-using-an-api"><i class="fa fa-check"></i><b>2.1.3</b> Adding data using an API</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="mapping-basics.html"><a href="mapping-basics.html#working-with-multiple-layers"><i class="fa fa-check"></i><b>2.2</b> Working with Multiple Layers</a></li>
<li class="chapter" data-level="2.3" data-path="mapping-basics.html"><a href="mapping-basics.html#printing-or-exporting-a-map"><i class="fa fa-check"></i><b>2.3</b> Printing or Exporting a Map</a><ul>
<li class="chapter" data-level="2.3.1" data-path="mapping-basics.html"><a href="mapping-basics.html#setting-up-the-print-layout"><i class="fa fa-check"></i><b>2.3.1</b> Setting up the Print Layout</a></li>
<li class="chapter" data-level="2.3.2" data-path="mapping-basics.html"><a href="mapping-basics.html#adding-a-map"><i class="fa fa-check"></i><b>2.3.2</b> Adding a map</a></li>
<li class="chapter" data-level="2.3.3" data-path="mapping-basics.html"><a href="mapping-basics.html#adding-a-scale-bar"><i class="fa fa-check"></i><b>2.3.3</b> Adding a scale bar</a></li>
<li class="chapter" data-level="2.3.4" data-path="mapping-basics.html"><a href="mapping-basics.html#adding-a-legend"><i class="fa fa-check"></i><b>2.3.4</b> Adding a legend</a></li>
<li class="chapter" data-level="2.3.5" data-path="mapping-basics.html"><a href="mapping-basics.html#exporting-your-map"><i class="fa fa-check"></i><b>2.3.5</b> Exporting your map</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="vector-from-raster.html"><a href="vector-from-raster.html"><i class="fa fa-check"></i><b>3</b> Creating Vector Data From Raster Base</a><ul>
<li class="chapter" data-level="3.1" data-path="vector-from-raster.html"><a href="vector-from-raster.html#obtaining-a-raster"><i class="fa fa-check"></i><b>3.1</b> Obtaining a raster</a></li>
<li class="chapter" data-level="3.2" data-path="vector-from-raster.html"><a href="vector-from-raster.html#creating-a-new-vector-layer."><i class="fa fa-check"></i><b>3.2</b> Creating a new vector layer.</a></li>
<li class="chapter" data-level="3.3" data-path="vector-from-raster.html"><a href="vector-from-raster.html#adding-features"><i class="fa fa-check"></i><b>3.3</b> Adding features</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="vector-appearance.html"><a href="vector-appearance.html"><i class="fa fa-check"></i><b>4</b> Adjusting Vector Layer Appearance</a><ul>
<li class="chapter" data-level="4.1" data-path="vector-appearance.html"><a href="vector-appearance.html#opening-the-properties-window"><i class="fa fa-check"></i><b>4.1</b> Opening the properties window</a></li>
<li class="chapter" data-level="4.2" data-path="vector-appearance.html"><a href="vector-appearance.html#changing-fill-color-border-and-style"><i class="fa fa-check"></i><b>4.2</b> Changing fill color, border and style</a></li>
<li class="chapter" data-level="4.3" data-path="vector-appearance.html"><a href="vector-appearance.html#adding-labels"><i class="fa fa-check"></i><b>4.3</b> Adding labels</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="osm-vectors.html"><a href="osm-vectors.html"><i class="fa fa-check"></i><b>5</b> Adding OpenStreetMap vectors</a><ul>
<li class="chapter" data-level="5.1" data-path="osm-vectors.html"><a href="osm-vectors.html#downloading-osm-data"><i class="fa fa-check"></i><b>5.1</b> Downloading OSM data</a></li>
<li class="chapter" data-level="5.2" data-path="osm-vectors.html"><a href="osm-vectors.html#labeling-the-vector-data"><i class="fa fa-check"></i><b>5.2</b> Labeling the vector data</a></li>
<li class="chapter" data-level="5.3" data-path="osm-vectors.html"><a href="osm-vectors.html#filtering-the-vector-data"><i class="fa fa-check"></i><b>5.3</b> Filtering the vector data</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="aggregated-data.html"><a href="aggregated-data.html"><i class="fa fa-check"></i><b>6</b> Mapping Aggregated Data</a><ul>
<li class="chapter" data-level="6.1" data-path="aggregated-data.html"><a href="aggregated-data.html#choropleth-maps"><i class="fa fa-check"></i><b>6.1</b> Choropleth Maps</a><ul>
<li class="chapter" data-level="6.1.1" data-path="aggregated-data.html"><a href="aggregated-data.html#downloading-data-1"><i class="fa fa-check"></i><b>6.1.1</b> Downloading data</a></li>
<li class="chapter" data-level="6.1.2" data-path="aggregated-data.html"><a href="aggregated-data.html#download-and-unzip-shapefiles"><i class="fa fa-check"></i><b>6.1.2</b> Download and Unzip Shapefiles</a></li>
<li class="chapter" data-level="6.1.3" data-path="aggregated-data.html"><a href="aggregated-data.html#add-country-boundaries-to-map"><i class="fa fa-check"></i><b>6.1.3</b> Add Country Boundaries to Map</a></li>
<li class="chapter" data-level="6.1.4" data-path="aggregated-data.html"><a href="aggregated-data.html#adding-the-data"><i class="fa fa-check"></i><b>6.1.4</b> Adding the data</a></li>
<li class="chapter" data-level="6.1.5" data-path="aggregated-data.html"><a href="aggregated-data.html#join-the-country-polygons-with-the-data."><i class="fa fa-check"></i><b>6.1.5</b> Join the country polygons with the data.</a></li>
<li class="chapter" data-level="6.1.6" data-path="aggregated-data.html"><a href="aggregated-data.html#color-the-polygons-according-to-crime-data"><i class="fa fa-check"></i><b>6.1.6</b> Color the polygons according to crime data</a></li>
<li class="chapter" data-level="6.1.7" data-path="aggregated-data.html"><a href="aggregated-data.html#clean-the-map"><i class="fa fa-check"></i><b>6.1.7</b> Clean the map</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="aggregated-data.html"><a href="aggregated-data.html#proportional-symbols"><i class="fa fa-check"></i><b>6.2</b> Proportional Symbols</a><ul>
<li class="chapter" data-level="6.2.1" data-path="aggregated-data.html"><a href="aggregated-data.html#style-the-point-symbols-using-graduated-sizes"><i class="fa fa-check"></i><b>6.2.1</b> Style the point symbols using graduated sizes</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="aggregated-data.html"><a href="aggregated-data.html#pie-charts"><i class="fa fa-check"></i><b>6.3</b> Pie Charts</a></li>
</ul></li>
<li class="part"><span><b>II Spatial Analysis</b></span></li>
<li class="chapter" data-level="7" data-path="getting-started-with-qgis-1.html"><a href="getting-started-with-qgis-1.html"><i class="fa fa-check"></i><b>7</b> Getting Started with QGIS</a></li>
<li class="chapter" data-level="8" data-path="getting-started-with-stata.html"><a href="getting-started-with-stata.html"><i class="fa fa-check"></i><b>8</b> Getting Started with Stata</a><ul>
<li class="chapter" data-level="8.1" data-path="getting-started-with-stata.html"><a href="getting-started-with-stata.html#menus"><i class="fa fa-check"></i><b>8.1</b> Menus</a></li>
<li class="chapter" data-level="8.2" data-path="getting-started-with-stata.html"><a href="getting-started-with-stata.html#commands"><i class="fa fa-check"></i><b>8.2</b> Commands</a></li>
<li class="chapter" data-level="8.3" data-path="getting-started-with-stata.html"><a href="getting-started-with-stata.html#do-files"><i class="fa fa-check"></i><b>8.3</b> Do-Files</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="buffers-distances.html"><a href="buffers-distances.html"><i class="fa fa-check"></i><b>9</b> Buffers and Distances</a><ul>
<li class="chapter" data-level="9.1" data-path="buffers-distances.html"><a href="buffers-distances.html#getting-the-data"><i class="fa fa-check"></i><b>9.1</b> Getting the Data</a></li>
<li class="chapter" data-level="9.2" data-path="buffers-distances.html"><a href="buffers-distances.html#mapping-the-data"><i class="fa fa-check"></i><b>9.2</b> Mapping the Data</a></li>
<li class="chapter" data-level="9.3" data-path="buffers-distances.html"><a href="buffers-distances.html#drawing-buffers-around-the-schools"><i class="fa fa-check"></i><b>9.3</b> Drawing Buffers Around the Schools</a></li>
<li class="chapter" data-level="9.4" data-path="buffers-distances.html"><a href="buffers-distances.html#counting-points-in-polygons"><i class="fa fa-check"></i><b>9.4</b> Counting Points in Polygons</a></li>
<li class="chapter" data-level="9.5" data-path="buffers-distances.html"><a href="buffers-distances.html#calculating-distances"><i class="fa fa-check"></i><b>9.5</b> Calculating Distances</a></li>
<li class="chapter" data-level="9.6" data-path="buffers-distances.html"><a href="buffers-distances.html#joining-and-exporting-data"><i class="fa fa-check"></i><b>9.6</b> Joining and Exporting Data</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="clustering.html"><a href="clustering.html"><i class="fa fa-check"></i><b>10</b> Cluster Analsis</a><ul>
<li class="chapter" data-level="10.1" data-path="clustering.html"><a href="clustering.html#using-qgis"><i class="fa fa-check"></i><b>10.1</b> Using QGIS</a></li>
<li class="chapter" data-level="10.2" data-path="clustering.html"><a href="clustering.html#using-stata"><i class="fa fa-check"></i><b>10.2</b> Using Stata</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="autocorrelation.html"><a href="autocorrelation.html"><i class="fa fa-check"></i><b>11</b> Autocorrelation and Spatial Regression</a><ul>
<li class="chapter" data-level="11.1" data-path="autocorrelation.html"><a href="autocorrelation.html#loading-the-data-into-stata"><i class="fa fa-check"></i><b>11.1</b> Loading the Data into Stata</a></li>
<li class="chapter" data-level="11.2" data-path="autocorrelation.html"><a href="autocorrelation.html#creating-spatial-weights-matrix"><i class="fa fa-check"></i><b>11.2</b> Creating Spatial Weights Matrix</a></li>
<li class="chapter" data-level="11.3" data-path="autocorrelation.html"><a href="autocorrelation.html#regression-and-spatial-regression"><i class="fa fa-check"></i><b>11.3</b> Regression and Spatial Regression</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Crime Mapping and Spatial Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="buffers-distances" class="section level1">
<h1><span class="header-section-number">Chapter 9</span> Buffers and Distances</h1>
<p>To learn how to use buffers and distances for analyzing data in QGIS, we will work through an example similar to the one we talked about in class. For this exercise, start by going to Chicago’s open data portal and downloading the following datasets:</p>
<div id="getting-the-data" class="section level2">
<h2><span class="header-section-number">9.1</span> Getting the Data</h2>
<p>First, go to the crimes database at:</p>
<p><a href="https://data.cityofchicago.org/Public-Safety/Crimes-2001-to-present/ijzp-q8t2/data" class="uri">https://data.cityofchicago.org/Public-Safety/Crimes-2001-to-present/ijzp-q8t2/data</a></p>
<p>Use the filter tab to select only crimes that were reported after 1 January 2020 (Date is after…) and that have the Primary Type listed as “BATTERY”. Export this data as a csv file and save it on your computer.</p>
<p>Now, go to the public schools database at:</p>
<p><a href="https://data.cityofchicago.org/Education/Chicago-Public-Schools-School-Locations-SY1920-Map/xtgb-6hqg" class="uri">https://data.cityofchicago.org/Education/Chicago-Public-Schools-School-Locations-SY1920-Map/xtgb-6hqg</a></p>
<p>Export the public school location data as a csv file and save it on your computer.</p>
<p>Finally, go to the bars database at:</p>
<p><a href="https://data.cityofchicago.org/Community-Economic-Development/bars/x7bm-cj66" class="uri">https://data.cityofchicago.org/Community-Economic-Development/bars/x7bm-cj66</a></p>
<p>Filter this data to include only bar licenses that expire after 1 January 2020, export it and save it on your computers.</p>
</div>
<div id="mapping-the-data" class="section level2">
<h2><span class="header-section-number">9.2</span> Mapping the Data</h2>
<p>Now put all of this data on a map in QGIS using the techniques you have already learned. Each dataset is a csv file, so you will need to add it using <kbd>Add Delimited Text Layer</kbd> and specifying the coordinates. In each case, the coordinates are given in latitude and longitude.</p>
</div>
<div id="drawing-buffers-around-the-schools" class="section level2">
<h2><span class="header-section-number">9.3</span> Drawing Buffers Around the Schools</h2>
<p>To draw buffers around the schools, first make sure you have the MMQGIS plugin installed and install it if you don’t. Go to the MMQGIS menu at the top of your screen and choose <kbd>Create → Create Buffers</kbd>. In the dialog that opens up set the radius that you want to use for your buffers and the units that this will be in. Think about a good choice based on the research questions we discussed yesterday. Then select an output shapefile (button of dialog) location where you have write access and will remember where it is. Click <kbd>OK</kbd> to calculate the buffers.</p>
</div>
<div id="counting-points-in-polygons" class="section level2">
<h2><span class="header-section-number">9.4</span> Counting Points in Polygons</h2>
<p>To count the number of batteries and the number of bars in each school’s buffer, select <kbd>Vector → Analysis Tools → Count Points in Polygon</kbd>. In the dialog that opens, select your new buffer layer as the polygons and select one of the points layers that you want to count. Give the count field a name that will make sense to you later (like “N_batteries” or “N_bars”). Run the operation and then do this again for the other point layer you want to count. (Note that each time you run this, it will create a polygon layer with the counts. Is you use that layer as your polygons for the next count, then you will end up with both counts in the same attribute file, which will save you time. Alternatively, you can do each separately and then join them.)</p>
</div>
<div id="calculating-distances" class="section level2">
<h2><span class="header-section-number">9.5</span> Calculating Distances</h2>
<p>To calculate distances from each school to the nearest bar, go to the <kbd>Vector → Analysis Tools → Distance Matrix</kbd>. Choose as the input layer your school points as as your target layer the bar points. Make sure you have a unique field selected for each. For <kbd>Use only the nearest (k) target points</kbd> type 1. Run the operation and wait for it to finish.</p>
<p>One complication to note: Distances are calculated in units that depend on the CRS of the two layers. In this case, both layers simply use latitude and longitude, so your distances will end up being in degrees of latitude and longitude. You will be better off with meters, which you can achieve by first reprojecting your layers to UTM before carrying out the operation. For purposes of this lab, however, leave it as it is.</p>
</div>
<div id="joining-and-exporting-data" class="section level2">
<h2><span class="header-section-number">9.6</span> Joining and Exporting Data</h2>
<p>If you want to end up with a file that you can analyze later in Stata, R, or some other statistical tool, you will want to export your data from QGIS. But you first need to join your distance table with the polygon layer in which you have your counts. Do this using the <kbd>Join</kbd> tab in the properties dialog for the polygon layer. Select the unique ID for each layer and carry out the join. If you do it correctly, you should see the distances in the attribute table for the polygons. If that is the case, then export your polygon layer as a csv file and save this for further analysis in our next lab. (Also turn it in as your lab assignment for this week.)</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="getting-started-with-stata.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="clustering.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["crime_mapping_lab.pdf", "crime_mapping_lab.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
