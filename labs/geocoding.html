<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Geocoding | Crime Mapping and Spatial Analysis</title>
  <meta name="description" content="Companion guide for the Crime Mapping and Spatial Analysis labs." />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Geocoding | Crime Mapping and Spatial Analysis" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://johnpalmer.github.io/CrimeMapping2020-Slides/labs/" />
  <meta property="og:image" content="https://johnpalmer.github.io/CrimeMapping2020-Slides/labs/images/lab_manual_cover.png" />
  <meta property="og:description" content="Companion guide for the Crime Mapping and Spatial Analysis labs." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Geocoding | Crime Mapping and Spatial Analysis" />
  
  <meta name="twitter:description" content="Companion guide for the Crime Mapping and Spatial Analysis labs." />
  <meta name="twitter:image" content="https://johnpalmer.github.io/CrimeMapping2020-Slides/labs/images/lab_manual_cover.png" />

<meta name="author" content="John Palmer" />


<meta name="date" content="2020-01-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="aggregating-point-data.html"/>
<link rel="next" href="references.html"/>
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />












<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Crime Mapping and Spatial Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Cover</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#accessing-qgis"><i class="fa fa-check"></i>Accessing QGIS</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#accessing-stata"><i class="fa fa-check"></i>Accessing Stata</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#accessing-r"><i class="fa fa-check"></i>Accessing R</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lab-instructions.html"><a href="lab-instructions.html"><i class="fa fa-check"></i>Lab Instructions</a><ul>
<li class="chapter" data-level="" data-path="lab-instructions.html"><a href="lab-instructions.html#lab-1-9-january-2019"><i class="fa fa-check"></i>Lab 1: 9 January 2019</a></li>
</ul></li>
<li class="part"><span><b>I Crime Mapping with QGIS</b></span></li>
<li class="chapter" data-level="1" data-path="getting-started-with-qgis.html"><a href="getting-started-with-qgis.html"><i class="fa fa-check"></i><b>1</b> Getting Started with QGIS</a><ul>
<li class="chapter" data-level="1.1" data-path="getting-started-with-qgis.html"><a href="getting-started-with-qgis.html#beginning-a-new-project"><i class="fa fa-check"></i><b>1.1</b> Beginning a new project</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started-with-qgis.html"><a href="getting-started-with-qgis.html#changing-the-language"><i class="fa fa-check"></i><b>1.2</b> Changing the language</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started-with-qgis.html"><a href="getting-started-with-qgis.html#installing-plugins"><i class="fa fa-check"></i><b>1.3</b> Installing plugins</a></li>
<li class="chapter" data-level="1.4" data-path="getting-started-with-qgis.html"><a href="getting-started-with-qgis.html#osm-tiles"><i class="fa fa-check"></i><b>1.4</b> Adding OpenStreetMap tiles</a></li>
<li class="chapter" data-level="1.5" data-path="getting-started-with-qgis.html"><a href="getting-started-with-qgis.html#placing-points-on-the-map"><i class="fa fa-check"></i><b>1.5</b> Placing points on the map</a></li>
<li class="chapter" data-level="1.6" data-path="getting-started-with-qgis.html"><a href="getting-started-with-qgis.html#placing-polygons-on-the-map"><i class="fa fa-check"></i><b>1.6</b> Placing polygons on the map</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="mapping-basics.html"><a href="mapping-basics.html"><i class="fa fa-check"></i><b>2</b> Mapping Basics</a><ul>
<li class="chapter" data-level="2.1" data-path="mapping-basics.html"><a href="mapping-basics.html#mapping-crime-locations"><i class="fa fa-check"></i><b>2.1</b> Mapping crime locations</a><ul>
<li class="chapter" data-level="2.1.1" data-path="mapping-basics.html"><a href="mapping-basics.html#downloading-data"><i class="fa fa-check"></i><b>2.1.1</b> Downloading Data</a></li>
<li class="chapter" data-level="2.1.2" data-path="mapping-basics.html"><a href="mapping-basics.html#adding-data-to-your-map"><i class="fa fa-check"></i><b>2.1.2</b> Adding data to your map</a></li>
<li class="chapter" data-level="2.1.3" data-path="mapping-basics.html"><a href="mapping-basics.html#adding-data-using-an-api"><i class="fa fa-check"></i><b>2.1.3</b> Adding data using an API</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="mapping-basics.html"><a href="mapping-basics.html#working-with-multiple-layers"><i class="fa fa-check"></i><b>2.2</b> Working with Multiple Layers</a></li>
<li class="chapter" data-level="2.3" data-path="mapping-basics.html"><a href="mapping-basics.html#printing-or-exporting-a-map"><i class="fa fa-check"></i><b>2.3</b> Printing or Exporting a Map</a><ul>
<li class="chapter" data-level="2.3.1" data-path="mapping-basics.html"><a href="mapping-basics.html#setting-up-the-print-composer"><i class="fa fa-check"></i><b>2.3.1</b> Setting up the Print Composer</a></li>
<li class="chapter" data-level="2.3.2" data-path="mapping-basics.html"><a href="mapping-basics.html#adding-a-map"><i class="fa fa-check"></i><b>2.3.2</b> Adding a map</a></li>
<li class="chapter" data-level="2.3.3" data-path="mapping-basics.html"><a href="mapping-basics.html#adding-a-scale-bar"><i class="fa fa-check"></i><b>2.3.3</b> Adding a scale bar</a></li>
<li class="chapter" data-level="2.3.4" data-path="mapping-basics.html"><a href="mapping-basics.html#adding-a-legend"><i class="fa fa-check"></i><b>2.3.4</b> Adding a legend</a></li>
<li class="chapter" data-level="2.3.5" data-path="mapping-basics.html"><a href="mapping-basics.html#exporting-your-map"><i class="fa fa-check"></i><b>2.3.5</b> Exporting your map</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="creating-vector-data-from-raster-base.html"><a href="creating-vector-data-from-raster-base.html"><i class="fa fa-check"></i><b>3</b> Creating Vector Data From Raster Base</a><ul>
<li class="chapter" data-level="3.1" data-path="creating-vector-data-from-raster-base.html"><a href="creating-vector-data-from-raster-base.html#adding-a-raster"><i class="fa fa-check"></i><b>3.1</b> Adding a raster</a></li>
<li class="chapter" data-level="3.2" data-path="creating-vector-data-from-raster-base.html"><a href="creating-vector-data-from-raster-base.html#creating-a-new-vector-layer."><i class="fa fa-check"></i><b>3.2</b> Creating a new vector layer.</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="adjusting-vector-layer-appearance.html"><a href="adjusting-vector-layer-appearance.html"><i class="fa fa-check"></i><b>4</b> Adjusting Vector Layer Appearance</a><ul>
<li class="chapter" data-level="4.1" data-path="adjusting-vector-layer-appearance.html"><a href="adjusting-vector-layer-appearance.html#opening-the-properties-window"><i class="fa fa-check"></i><b>4.1</b> Opening the properties window</a></li>
<li class="chapter" data-level="4.2" data-path="adjusting-vector-layer-appearance.html"><a href="adjusting-vector-layer-appearance.html#changing-the-color"><i class="fa fa-check"></i><b>4.2</b> Changing the color</a></li>
<li class="chapter" data-level="4.3" data-path="adjusting-vector-layer-appearance.html"><a href="adjusting-vector-layer-appearance.html#changing-the-border-and-fill-style"><i class="fa fa-check"></i><b>4.3</b> Changing the border and fill style</a></li>
<li class="chapter" data-level="4.4" data-path="adjusting-vector-layer-appearance.html"><a href="adjusting-vector-layer-appearance.html#adding-labels"><i class="fa fa-check"></i><b>4.4</b> Adding labels</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="adding-openstreetmap-vectors.html"><a href="adding-openstreetmap-vectors.html"><i class="fa fa-check"></i><b>5</b> Adding OpenStreetMap vectors</a><ul>
<li class="chapter" data-level="5.1" data-path="adding-openstreetmap-vectors.html"><a href="adding-openstreetmap-vectors.html#downloading-osm-data"><i class="fa fa-check"></i><b>5.1</b> Downloading OSM data</a></li>
<li class="chapter" data-level="5.2" data-path="adding-openstreetmap-vectors.html"><a href="adding-openstreetmap-vectors.html#opening-the-osm-file-and-selecting-layers"><i class="fa fa-check"></i><b>5.2</b> Opening the OSM file and selecting layers</a></li>
<li class="chapter" data-level="5.3" data-path="adding-openstreetmap-vectors.html"><a href="adding-openstreetmap-vectors.html#labeling-the-vector-data"><i class="fa fa-check"></i><b>5.3</b> Labeling the vector data</a></li>
<li class="chapter" data-level="5.4" data-path="adding-openstreetmap-vectors.html"><a href="adding-openstreetmap-vectors.html#filtering-the-vector-data"><i class="fa fa-check"></i><b>5.4</b> Filtering the vector data</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="mapping-aggregated-data.html"><a href="mapping-aggregated-data.html"><i class="fa fa-check"></i><b>6</b> Mapping Aggregated Data</a><ul>
<li class="chapter" data-level="6.1" data-path="mapping-aggregated-data.html"><a href="mapping-aggregated-data.html#choropleth-maps"><i class="fa fa-check"></i><b>6.1</b> Choropleth Maps</a><ul>
<li class="chapter" data-level="6.1.1" data-path="mapping-aggregated-data.html"><a href="mapping-aggregated-data.html#downloading-data-1"><i class="fa fa-check"></i><b>6.1.1</b> Downloading data</a></li>
<li class="chapter" data-level="6.1.2" data-path="mapping-aggregated-data.html"><a href="mapping-aggregated-data.html#download-shapefiles"><i class="fa fa-check"></i><b>6.1.2</b> Download Shapefiles</a></li>
<li class="chapter" data-level="6.1.3" data-path="mapping-aggregated-data.html"><a href="mapping-aggregated-data.html#unzip-the-shapefiles"><i class="fa fa-check"></i><b>6.1.3</b> Unzip the Shapefiles</a></li>
<li class="chapter" data-level="6.1.4" data-path="mapping-aggregated-data.html"><a href="mapping-aggregated-data.html#add-country-boundaries-to-map"><i class="fa fa-check"></i><b>6.1.4</b> Add Country Boundaries to Map</a></li>
<li class="chapter" data-level="6.1.5" data-path="mapping-aggregated-data.html"><a href="mapping-aggregated-data.html#adding-the-data"><i class="fa fa-check"></i><b>6.1.5</b> Adding the data</a></li>
<li class="chapter" data-level="6.1.6" data-path="mapping-aggregated-data.html"><a href="mapping-aggregated-data.html#join-the-country-polygons-with-the-data."><i class="fa fa-check"></i><b>6.1.6</b> Join the country polygons with the data.</a></li>
<li class="chapter" data-level="6.1.7" data-path="mapping-aggregated-data.html"><a href="mapping-aggregated-data.html#color-the-polygons-according-to-crime-data"><i class="fa fa-check"></i><b>6.1.7</b> Color the polygons according to crime data</a></li>
<li class="chapter" data-level="6.1.8" data-path="mapping-aggregated-data.html"><a href="mapping-aggregated-data.html#clean-the-map"><i class="fa fa-check"></i><b>6.1.8</b> Clean the map</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="mapping-aggregated-data.html"><a href="mapping-aggregated-data.html#proportional-symbols"><i class="fa fa-check"></i><b>6.2</b> Proportional Symbols</a><ul>
<li class="chapter" data-level="6.2.1" data-path="mapping-aggregated-data.html"><a href="mapping-aggregated-data.html#style-the-point-symbols-using-graduated-sizes"><i class="fa fa-check"></i><b>6.2.1</b> Style the point symbols using graduated sizes</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="mapping-aggregated-data.html"><a href="mapping-aggregated-data.html#pie-charts"><i class="fa fa-check"></i><b>6.3</b> Pie Charts</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="aggregating-point-data.html"><a href="aggregating-point-data.html"><i class="fa fa-check"></i><b>7</b> Aggregating Point Data</a><ul>
<li class="chapter" data-level="7.1" data-path="aggregating-point-data.html"><a href="aggregating-point-data.html#counting-points-in-areal-units"><i class="fa fa-check"></i><b>7.1</b> Counting Points in Areal Units</a><ul>
<li class="chapter" data-level="7.1.1" data-path="aggregating-point-data.html"><a href="aggregating-point-data.html#obtain-the-data"><i class="fa fa-check"></i><b>7.1.1</b> Obtain the data</a></li>
<li class="chapter" data-level="7.1.2" data-path="aggregating-point-data.html"><a href="aggregating-point-data.html#obtaining-shapefile"><i class="fa fa-check"></i><b>7.1.2</b> Obtaining shapefile</a></li>
<li class="chapter" data-level="7.1.3" data-path="aggregating-point-data.html"><a href="aggregating-point-data.html#add-the-shapefile-layer-to-your-map"><i class="fa fa-check"></i><b>7.1.3</b> Add the shapefile layer to your map</a></li>
<li class="chapter" data-level="7.1.4" data-path="aggregating-point-data.html"><a href="aggregating-point-data.html#add-the-data"><i class="fa fa-check"></i><b>7.1.4</b> Add the data</a></li>
<li class="chapter" data-level="7.1.5" data-path="aggregating-point-data.html"><a href="aggregating-point-data.html#count-the-points-in-each-polygon"><i class="fa fa-check"></i><b>7.1.5</b> Count the points in each polygon</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="geocoding.html"><a href="geocoding.html"><i class="fa fa-check"></i><b>8</b> Geocoding</a><ul>
<li class="chapter" data-level="8.1" data-path="geocoding.html"><a href="geocoding.html#install-mmqgis"><i class="fa fa-check"></i><b>8.1</b> Install MMQGIS</a></li>
<li class="chapter" data-level="8.2" data-path="geocoding.html"><a href="geocoding.html#obtain-csv-address-file"><i class="fa fa-check"></i><b>8.2</b> Obtain CSV address file</a></li>
<li class="chapter" data-level="8.3" data-path="geocoding.html"><a href="geocoding.html#use-the-mmqgis-geocoding-function"><i class="fa fa-check"></i><b>8.3</b> Use the MMQGIS geocoding function</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Crime Mapping and Spatial Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="geocoding" class="section level1">
<h1><span class="header-section-number">Chapter 8</span> Geocoding</h1>
<p>Geocoding is the process of converting addresses into geographic coordinates. We can do this in QGIS using the MMQGIS Plugin.</p>
<div id="install-mmqgis" class="section level2">
<h2><span class="header-section-number">8.1</span> Install MMQGIS</h2>
<p>Install the MQGIS plugin using <kbd>Plugins → Manage and Install Plugins</kbd> and searching for <samp>mmqgis</samp>.</p>
</div>
<div id="obtain-csv-address-file" class="section level2">
<h2><span class="header-section-number">8.2</span> Obtain CSV address file</h2>
<p>The addresses you want to geocode using MMQGIS need to be in a CSV file that includes fields for address, city, state (province), and country. You could create a file like this using Excel or you may have a file like this already from whatever data source you are working with. For this exercise, use the file here:</p>
<p><a href="data/guardia_urbana_bcn_addresses.csv">Download the address data</a></p>
</div>
<div id="use-the-mmqgis-geocoding-function" class="section level2">
<h2><span class="header-section-number">8.3</span> Use the MMQGIS geocoding function</h2>
<p>To geocode these addresses, click <kbd>MMQGIS → Geocode → Geocode CSV with Google / Open Street Map</kbd>.</p>
<p>In the dialog window that pops up, choose the CSV file with your addresses and make sure the Address, City, State, and Country fields are selected correctly. If you choose to geocode with Google Maps, you may need to obtain an Google API key to avoid limits. The simpler alternative is to use the OpenStreetMap / Nominatum option. You will also need to specify file names for the output file (where the geolocations will be stored) as well as for a file that will store a list of addresses that could not be geocoded. This second part is important because you will need to find ways to locate these addresses (often by modifying the address text). When you have all of this specified, click <kbd>OK</kbd>.</p>
<p>If some or all of the addresses could be geocoded, you will see a new points layer appear on your map, containing the locations. Make sure to check the file of addresses that could not be geocoded as well, and figure out what went wrong with these. One common error is with the character encoding. Your csv file needs to be encoded as UTF-8.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="aggregating-point-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["crime_mapping_lab.pdf", "crime_mapping_lab.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
